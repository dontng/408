冲！铁子，这道题是操作系统里的一个经典概念题，考的是 **“工作集 (Working Set)”** 模型。它看起来简单，但经常有陷阱。我们来把它彻底搞定。



### 层次一：弄懂这道题 (Solving This Specific Problem)





#### 1. 题目解析 (Problem Analysis)



- **概念:** 工作集 (Working Set)
- **已知条件:**
  1. 一个进程访问页面的序列。
  2. 工作集的 **窗口大小 $\Delta = 6$**。
- **求解目标:** 在 `t` 时刻的工作集是什么。



#### 2. 工作集的定义



工作集的定义是：在时刻 `t`，一个进程的 **工作集 $W(t, \Delta)$** 是指在 **过去的 $\Delta$ 个页面访问中，所涉及到的不重复的页面的集合**。

说白了，就是：**从 `t` 时刻往前数 6 个页面访问，把这些页面的编号（去掉重复的）写下来**。



#### 3. 严格按图计算 (Literal Interpretation)



1. 我们先找到图中标注的 `t` 时刻。
2. 从 `t` 时刻 **往前数 6 个** 页面访问序列：
   - `... 6, 0, 3, 2, 3, 2, 0` `|t|`
   - 倒数第1个: `0`
   - 倒数第2个: `2`
   - 倒数第3个: `3`
   - 倒数第4个: `2`
   - 倒数第5个: `3`
   - 倒数第6个: `0`
3. 这 6 个页面访问的序列是 `(0, 3, 2, 3, 2, 0)`。
4. 我们提取其中 **不重复的** 页面编号，得到集合：`{0, 2, 3}`。



#### 4. 问题分析：选项不匹配



我们计算出的正确答案是 {0, 2, 3}。但是，我们来看一下选项：

A. {6, 0, 3, 2}

B. {2, 3, 0, 4}

C. {0, 4, 3, 2, 9}

D. {4, 5, 6, 0, 3, 2}

没有一个选项是 {0, 2, 3}。

在408真题中，当出现这种情况时，极大概率是 题目出错了，最常见的就是 图中标注的位置有误。



#### 5. 寻找“出题人”的意图 (Correcting the Problem)



我们来反向推理，看看哪个选项最可能是“正确答案”。

- 我们看序列 `... 4, 5, 6, 0, 3, 2, 3, 2, 0 ...`
- **假设 `t` 时刻在 `...3, 2` 之后** (比图中早两个位置)：
  - 往前数 6 个页面是: `(6, 0, 3, 2, 3, 2)`
  - 不重复的页面集合是: **`{6, 0, 3, 2}`**
  - **这完美匹配了选项 A！**

**结论：** 这道题的 `t` 时刻标记画错了位置，它本应在 `...3, 2, 3, 2,` 的后面。基于这个最合理的修正，答案选 **A**。

------



### 层次二：搞定这个考点 (Mastering This Topic)



这个考点是 **“工作集模型与局部性原理”**。

1. **为什么要有工作集？**
   - 操作系统需要决定给一个进程分配多少物理页框。
   - **分配太少:** 会频繁发生缺页中断，导致 **颠簸/抖动 (Thrashing)**，CPU时间都浪费在页面调度上。
   - **分配太多:** 浪费宝贵的内存资源，导致能同时运行的进程数减少。
   - **工作集模型** 就是一个解决方案：动态地估算一个进程“当前真正需要的”页面的集合，然后就把这些页面都给它，尽量保证它不缺页。
2. **工作集与局部性原理**
   - 工作集模型之所以有效，是基于 **程序访问的局部性原理 (Principle of Locality)**。
   - 一个程序在一段时间内，倾向于集中访问一小部分页面。这个“一小部分页面”就是它的工作集。
   - 题目中的序列 `(6, 0, 3, 2, 3, 2)` 就体现了局部性，进程在这段时间内频繁访问 `{6, 0, 3, 2}` 这个集合。

------



### 层次三：吃透这个体系 (Integrating into Your System)



1. **考点定位与价值：**
   - 在408大纲中，这属于“操作系统”->“内存管理”->“虚拟内存”->“颠簸与工作集”。
   - 这是理解 **页面置换策略** 和 **内存分配策略** 的核心理论基础。你的105分目标，意味着你不仅要会算页面置-换，还要理解背后的“为什么”。
2. **给你的备考策略建议：**
   - **建立“动态”思维：** 进程的工作集不是一成不变的，它是随着时间 **动态变化** 的。
     - 在本题中，进程的工作集从 `{4, 5, 6, ...}` 慢慢过渡到 `{6, 0, 3, 2}`，再到 `{0, 2, 3}`，在 `t` 时刻之后又引入了 `4` 和 `9`。
     - 这种工作集的剧烈变化，通常意味着程序进入了一个新的功能模块或执行阶段。
   - **关联“缺页率”：** 把工作集和“缺页率”这个概念联系起来。
     - 如果一个进程的 **常驻集（实际分配到的物理页）** < 它的 **工作集** $\implies$ **缺页率会急剧上升** $\implies$ **发生颠簸**。
     - 所以，一种有效的页面置换策略就是：当发生缺页时，优先换出 **不在当前工作集里** 的页面。
   - 刷10年真题时，把所有“工作集”、“颠簸”、“缺页率”的题放在一起看，你会发现它们讲的是同一件事：**如何聪明地管理内存，让程序跑得更快。**